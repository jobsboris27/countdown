!function(e,t){if("function"==typeof define&&define.amd)define(["Countdown"],t);else if("object"==typeof module&&module.exports)module.exports=t();else{this.Countdown=t()}}(0,function(){"use strict";function e(t){if("string"==typeof t)return document.createTextNode(t);const n=document.createElement(t.type);return t.class&&n.setAttribute("class",t.class),t.children.map(e).forEach(n.appendChild.bind(n)),n}function t(n,s,i,o){let r=o||0;if(i)if(s){if(typeof(c=s)!=typeof(a=i)||"string"==typeof c&&c!==a||c.type!==a.type)n.replaceChild(e(s),n.childNodes[r]);else if(s.type){const e=s.children.length,o=i.children.length;for(let c=0;c<e||c<o;c++)t(n.childNodes[r],s.children[c],i.children[c],c)}}else n.removeChild(n.childNodes[r]);else n.appendChild(e(s));var c,a}const n=function(e){return e&&0===Object.keys(e).length};function s(e){const t={outputContainer:document.body,view:"",endDate:{},onStart:function(){},onStop:function(){},onReset:function(){}};if(!(this instanceof s))return new s(e);if(this.settings=Object.assign(t,e),n(this.settings.endDate))return void console.warn("property 'endDate' is empty");const i=this.settings.endDate.year||2090,o=this.settings.endDate.month&&this.settings.endDate.month-1||11,r=this.settings.endDate.day||12,c=this.settings.endDate.hour||12,a=this.settings.endDate.minutes||12,d=this.settings.endDate.sec||12,l=new Date;l.setFullYear(i),l.setMonth(o),l.setDate(r),l.setHours(c),l.setMinutes(a),l.setSeconds(d),this._endDate=l,this.createElements(),this.startTick()}return s.prototype.dateDiff=function(e,t){let n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};if(e==t)return n;if(e>t){let n=t;t=e,e=n}const s=t.getTime()-e.getTime(),i=Math.floor(s%864e5/36e5),o=Math.floor(s%36e5/6e4),r=Math.floor(s%6e4/1e3);n.hours=i,n.minutes=o,n.seconds=r;let c=e.getFullYear(),a=t.getFullYear(),d=e.getMonth(),l=t.getMonth(),h=e.getDate(),u=t.getDate();if(n.years=a-c,n.months=l-d,n.days=u-h,n.days<0){let t=new Date(e.getFullYear(),e.getMonth()+1,1,0,0,-1).getDate();n.months-=1,n.days+=t}return n.months<0&&(n.months+=12,n.years-=1),n},s.prototype.startTick=function(){const e=setInterval(function(t){const n=new Date,s=t._endDate.getTime()-n.getTime();t.createElements(),s<0&&(clearInterval(e),alert("Stop countdown"))},1e3,this)},s.prototype.createElements=function(){const e=new Date,n=this.dateDiff(this._endDate,e),s={type:"div",class:"simple-countdown__container",children:[]};Object.keys(n).forEach(function(e){const t=n[e],i={type:"div",class:"simple-countdown__item",children:[{type:"span",children:[""+(t+1)]},{type:"span",children:[""+t]},{type:"span",children:[""+(t-1)]}]};s.children.push(i)});const i={type:"div",class:"simple-countdown",children:[s]},o=this.settings.outputContainer;this._vOldStructure?t(o,this._vOldStructure,i):t(o,i),this._vOldStructure=i},s});